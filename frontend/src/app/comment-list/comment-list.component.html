@if (write){
    <div class="p-4 mt-10 mb-6 border-2 rounded-xl flex flex-col w-full">
        <div>
            <label class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Your comment</label>
            <form #f="ngForm" (ngSubmit)="onSubmitComment(f)">
                <div class="w-full mb-4 border border-gray-200 rounded-lg bg-gray-50 dark:bg-gray-700 dark:border-gray-600">
                    <div class="px-4 py-2 bg-white rounded-t-lg dark:bg-gray-800">
                        <textarea name="comment" ngModel id="comment" rows="4" class="w-full px-0 text-sm text-gray-900 bg-white border-0 dark:bg-gray-800 focus:ring-0 dark:text-white dark:placeholder-gray-400" placeholder="Write a comment..." required></textarea>
                    </div>
                    <div class="flex items-center justify-between px-3 py-2 border-t dark:border-gray-600">
                        <button (click)="cancelButtonClicked()" class="inline-flex items-center py-2.5 px-4 text-xs font-medium text-center text-white bg-pink-500 rounded-lg focus:ring-4 focus:ring-pink-200 dark:focus:ring-pink-700 hover:bg-pink-600">
                            Cancel
                        </button>
                        <button type="submit" class="inline-flex items-center py-2.5 px-4 text-xs font-medium text-center text-white bg-pink-500 rounded-lg focus:ring-4 focus:ring-pink-200 dark:focus:ring-pink-700 hover:bg-pink-600">
                            Post comment
                        </button>
                    </div>
                </div>
            </form>
        </div>
    </div>
    }
@defer (when commentAreLoaded()) {
    <div class="p-4 mt-10 mb-6 border-2 rounded-xl flex flex-col w-full">

        @for (comment of this.commentList; track comment) {
            <div class="flex items-center">
                <div class="flex items-center w-14">
                    <a routerLink="/account/{{comment.user.id}}">
                        <img class="w-10 h-10 mr-3 p-0.5 rounded-full ring-2 ring-pink-500 dark:ring-pink-700 -sm:w-8 -sm:h-8"
                             src="{{ comment.user.photo_url }}" alt="Bordered avatar">
                    </a>
                </div>
                <div class="w-full">{{comment.content}}</div>
            </div>
            @if (!(this.commentList.at(this.commentList.length - 1) === comment)) {
                <hr class="my-4">
            }
        }
    </div>
    <div class="mb-6 flex justify-center">
        <a (click)="loadMore()" class="px-4 py-2 rounded-xl hover:bg-gray-200 cursor-pointer">Voir plus</a>
    </div>
} @placeholder {

} @error {

}

